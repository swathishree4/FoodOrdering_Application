Users Table:

UserID (Primary Key, UniqueIdentifier)
Username (nvarchar(50), Unique)
Password (nvarchar(max))
Email (nvarchar(100), Unique)
PhoneNumber (nvarchar(15))
Role (nvarchar(20))      "Customer", "Restaurant", or "DeliveryStaff"
CreatedDate (datetime)
IsActive (bit)

Customers Table

CustomerID (Primary Key)     Foreign Key referencing Users.UserID
FirstName (nvarchar(50))
LastName (nvarchar(50))
Address (nvarchar(255))
City (nvarchar(100))
PostalCode (nvarchar(20))
Email(nvarchar(50))
PhoneNumber(nvarchar(15))

Restaurants Table

RestaurantID (Primary Key)
UserID 				(Foreign Key referencing Users.UserID)
RestaurantName (nvarchar(100))
Address (nvarchar(255))
City (nvarchar(100))
PostalCode (nvarchar(20))
PhoneNumber (nvarchar(15))
CuisineType (nvarchar(50))
Rating (float)
CreatedDate (datetime)
IsActive (bit)


Menus Table
MenuID (Primary Key)
RestaurantID			 (Foreign Key referencing Restaurants.RestaurantID)
MenuItemName (nvarchar(100))
Description (nvarchar(255))
Price (decimal(18, 2))
Rating (float)
IsAvailable (bit)

Orders Table

OrderID (Primary Key)
CustomerID 				(Foreign Key referencing Customers.CustomerID)
RestaurantID 				(Foreign Key referencing Restaurants.RestaurantID)
OrderDate (datetime)
TotalAmount (decimal(18, 2))
Status (nvarchar(50))			"Pending", "Confirmed", "Cooking", "On the way", "Delivered"
PaymentStatus (nvarchar(50)) 		 "Pending", "Paid"
DeliveryAddress (nvarchar(255))
City (nvarchar(100))
PostalCode (nvarchar(20))
IsActive (bit)

OrderItems Table

OrderItemID (Primary Key)
OrderID 				(Foreign Key referencing Orders.OrderID)
MenuID					 (Foreign Key referencing Menus.MenuID)
Quantity (int)
ItemPrice (decimal(18, 2))
TotalPrice (decimal(18, 2))

DeliveryStaff Table

DeliveryStaffID(Primary Key)		(Foreign Key referencing Users.UserID)
FirstName (nvarchar(50))
LastName (nvarchar(50))
PhoneNumber (nvarchar(15))


Deliveries Table

DeliveryID(Primary Key)
OrderID 				(Foreign Key referencing Orders.OrderID)
DeliveryStaffID 			(Foreign Key referencing DeliveryStaff.DeliveryStaffID)
PickupTime (datetime)
DeliveryTime (datetime)
DeliveryStatus (nvarchar(50)) 		 "Assigned", "Picked up", "In Transit", "Delivered"
RouteDetails (nvarchar(255))
CurrentLocation (nvarchar(255))     	 // New field to store the current location (latitude, longitude) of the delivery staff
LastUpdatedTime (datetime)		 // New field to store the last time the location was updated

OrderTracking Table (New Table)

TrackingID (Primary Key)
OrderID					 (Foreign Key referencing Orders.OrderID)
Status (nvarchar(50)) 			 "Order Received", "Preparing", "Ready for Pickup", "Out for Delivery", "Delivered"
Location (nvarchar(255)) 		// New field to store the location (latitude, longitude) at different stages of the delivery//foreign key which refer to the table delivery location




********************************************************************************



Users {
	UserID integer pk
	Username varchar
	Password varchar
	PhoneNumber varchar
	Role varchar
	Email varchar
}

Customers {
	CustomerID integer pk
	UserID > Users.UserID
	FirstName varchar
	Address varchar
	City varchar
	PostalCode varchar
	LastName varchar
	Email varchar
	PhoneNumber varchar
}

Restaurants {
	RestaurantID integer pk
	UserID > Users.UserID
	Address varchar
	City varchar
	PostalCode varchar
	PhoneNumber varchar
	CuisineType varchar
	Rating float
	RestaurantName varchar
	image varchar
}

Menus {
	RestaurantID integer > Restaurants.RestaurantID
	MenuItemName varchar
	MenuID integer pk
	Price decimal
	Rating float
	IsAvailable varchar
	Description varchar
	image varchar
}

Payment {
	PaymentID integer pk
	Mode_of_pay varchar
	CustomerID > Customers.CustomerID
	RestaurantID > Restaurants.RestaurantID
	TotalPrice decimal
	MenuID integer > Menus.MenuID
}

Orders {
	OrderID integer pk
	CustomerID integer > Customers.CustomerID
	PaymentID integer > Payment.PaymentID
	TotalAmount decimal
	DeliveryAddress varchar
	City varchar
	PostalCode varchar
}

DeliveryStaff {
	DeliveryStaffID integer pk
	UserID > Users.UserID
	FirstName varchar
	LastName varchar
	PhoneNumber varchar
}

Deliveries {
	DeliveryID integer pk
	OrderID integer > Orders.OrderID
	DeliveryStaffID integer > DeliveryStaff.DeliveryID
	PickupTime datetime
	DeliveryTime datetime 
	DeliveryStatus varchar
	RouteDetails varchar
	CurrentLocation varchar
}

OrderTracking {
	TrackingID integer pk
	Status varchar
	Location varchar
	OrderID	 integer > Orders.OrderID
}







********************************************************************************************
